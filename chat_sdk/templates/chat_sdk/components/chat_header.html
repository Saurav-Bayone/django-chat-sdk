{% load chat_sdk_tags %}

<div class="chat-header border-bottom px-3 py-2 d-flex align-items-center justify-content-between">
  <div class="d-flex align-items-center gap-2">
    <!-- Mobile sidebar toggle -->
    <button class="btn btn-sm btn-phoenix-secondary d-lg-none"
            data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar">
      <span data-feather="menu" style="width:16px;height:16px;"></span>
    </button>

    {% if conversation %}
    <h6 class="mb-0 fw-semibold text-truncate" style="max-width: 300px;">
      {{ conversation.title }}
    </h6>
    {% else %}
    <h6 class="mb-0 fw-semibold">New Chat</h6>
    {% endif %}
  </div>

  <div class="d-flex align-items-center gap-2">
    <!-- Model selector -->
    <select class="form-select form-select-sm" id="model-select" style="width: auto; min-width: 160px;">
      {% for provider in providers %}
      <option value="{{ provider }}"
              {% if conversation and conversation.model_id == provider %}selected{% endif %}>
        {{ provider }}
      </option>
      {% endfor %}
    </select>
  </div>
</div>

<!-- Mobile sidebar offcanvas -->
<div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="mobileSidebar">
  <div class="offcanvas-header">
    <h6 class="offcanvas-title">Conversations</h6>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body p-0">
    {% include "chat_sdk/components/sidebar.html" %}
  </div>
</div>
